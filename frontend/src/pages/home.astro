---
import BaseLayout from "./layouts/BaseLayout.astro";

const { userId } = Astro.locals.auth()

const user = await Astro.locals.currentUser()

if (!user || !userId)
{
    return Astro.redirect('/')
}

const pageTitle = "MyHomeschoolApp Home"
---
<BaseLayout pageTitle={pageTitle}>
  <h1 class="mb-8">Welcome back, {user.firstName ? user.firstName : user.username}</h1>

  <a class="py-2 px-24 bg-primary hover:bg-secondary text-light-neutral rounded" href="/students">Students</a>
</BaseLayout>